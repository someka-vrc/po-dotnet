{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/podotnetconfig-schema.json",
  "title": "PO .NET configuration",
  "description": "Configuration file schema for the PO .NET VS Code extension (podotnetconfig.json).",
  "type": "object",
  "oneOf": [
    {
      "description": "New format: a top-level \"config\" array with multiple config objects",
      "properties": {
        "config": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "properties": {
              "sourceDirs": {
                "type": "array",
                "items": { "type": "string", "minLength": 1 },
                "minItems": 1,
                "uniqueItems": true,
                "examples": ["."]
              },
              "poDirs": {
                "type": "array",
                "items": { "type": "string", "minLength": 1 },
                "minItems": 1,
                "uniqueItems": true,
                "examples": ["./L10N"]
              },
              "localizeFuncs": {
                "type": "array",
                "items": { "type": "string", "minLength": 1 },
                "minItems": 1,
                "uniqueItems": true,
                "examples": ["G"]
              }
            },
            "required": ["sourceDirs", "poDirs", "localizeFuncs"],
            "additionalProperties": false
          }
        }
      },
      "required": ["config"],
      "additionalProperties": false
    },
    {
      "description": "Legacy single-config object (kept for backward compatibility)",
      "properties": {
        "sourceDirs": {
          "type": "array",
          "items": { "type": "string", "minLength": 1 },
          "minItems": 1,
          "uniqueItems": true,
          "examples": ["."]
        },
        "poDirs": {
          "type": "array",
          "items": { "type": "string", "minLength": 1 },
          "minItems": 1,
          "uniqueItems": true,
          "examples": ["./L10N"]
        },
        "localizeFuncs": {
          "type": "array",
          "items": { "type": "string", "minLength": 1 },
          "minItems": 1,
          "uniqueItems": true,
          "examples": ["G"]
        }
      },
      "required": ["sourceDirs", "poDirs", "localizeFuncs"],
      "additionalProperties": false
    }
  ],
  "examples": [
    {
      "config": [
        {
          "sourceDirs": ["."],
          "poDirs": ["./L10N"],
          "localizeFuncs": ["G"]
        }
      ]
    },
    {
      "sourceDirs": ["."],
      "poDirs": ["./L10N"],
      "localizeFuncs": ["G"]
    }
  ]
}
